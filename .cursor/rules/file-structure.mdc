---
alwaysApply: true
---
## ğŸ¯ Overview
Comprehensive file structure guidelines covering project organization, naming conventions, directory structure, and code organization patterns for scalable and maintainable projects.

---

## ğŸ—ï¸ Project Structure Architecture

### **Monorepo Structure**
- **Client**: React frontend application
- **Server**: Node.js backend application
- **Shared**: Common utilities and types
- **Tests**: Test files and configurations
- **Docs**: Documentation and guides
- **Scripts**: Build and deployment scripts

### **Directory Organization Principles**
- **Domain-Driven**: Organize by business domains
- **Feature-Based**: Group related functionality
- **Separation of Concerns**: Clear boundaries between layers
- **Scalability**: Structure supports growth
- **Maintainability**: Easy to navigate and understand

---

## ğŸ“ Root Level Structure

### **Project Root Organization**
```
project-name/
â”œâ”€â”€ ğŸ“ client/                 # React Frontend
â”œâ”€â”€ ğŸ“ server/                 # Node.js Backend
â”œâ”€â”€ ğŸ“ shared/                 # Shared Utilities
â”œâ”€â”€ ğŸ“ tests/                  # Test Files
â”œâ”€â”€ ğŸ“ docs/                   # Documentation
â”œâ”€â”€ ğŸ“ scripts/                # Build Scripts
â”œâ”€â”€ ğŸ“ .github/                # GitHub Workflows
â”œâ”€â”€ ğŸ“„ .gitignore             # Git Ignore Rules
â”œâ”€â”€ ğŸ“„ package.json           # Root Package Config
â”œâ”€â”€ ğŸ“„ package-lock.json      # Root Package Lock
â”œâ”€â”€ ğŸ“„ README.md              # Project Documentation
â”œâ”€â”€ ğŸ“„ docker-compose.yml     # Docker Configuration
â””â”€â”€ ğŸ“„ .env.example           # Environment Template
```

### **Configuration Files**
- **Package Management**: `package.json`, `package-lock.json`
- **Environment**: `.env.example`, `.env.local`, `.env.production`
- **Build Tools**: `webpack.config.js`, `vite.config.js`
- **Linting**: `.eslintrc.js`, `.prettierrc`
- **Testing**: `jest.config.js`, `cypress.config.js`
- **Docker**: `Dockerfile`, `docker-compose.yml`
- **Git**: `.gitignore`
- **Monitoring**: `sentry.js` (server)

### **Dependencies & Environment Files**
- **Node Modules**: `node_modules/` (NOT in .gitignore - committed to repository)
- **Package Files**: `package.json`, `package-lock.json` (committed)
- **Environment Files**: `.env.example` (committed), `.env.*` (gitignored)
- **Lock Files**: `package-lock.json` (committed for consistency)

---

## ğŸ¯ Client Structure (React Frontend)

### **Client Directory Organization**
```
client/
â”œâ”€â”€ ğŸ“ node_modules/           # Dependencies (committed)
â”œâ”€â”€ ğŸ“ public/                 # Static Assets
â”‚   â”œâ”€â”€ ğŸ“ locales/           # Translation Files
â”‚   â”œâ”€â”€ ğŸ“„ index.html         # HTML Template
â”‚   â””â”€â”€ ğŸ“„ favicon.ico        # Favicon
â”œâ”€â”€ ğŸ“ src/                    # Source Code
â”‚   â”œâ”€â”€ ğŸ“ components/        # React Components
â”‚   â”œâ”€â”€ ğŸ“ pages/             # Page Components
â”‚   â”œâ”€â”€ ğŸ“ hooks/             # Custom Hooks
â”‚   â”œâ”€â”€ ğŸ“ services/          # API Services
â”‚   â”œâ”€â”€ ğŸ“ utils/             # Utility Functions
â”‚   â”œâ”€â”€ ğŸ“ constants/         # Global Constants
â”‚   â”œâ”€â”€ ğŸ“ types/             # TypeScript Types
â”‚   â”œâ”€â”€ ğŸ“ styles/            # CSS & Styling
â”‚   â”œâ”€â”€ ğŸ“ assets/            # Images & Icons
â”‚   â”œâ”€â”€ ğŸ“ redux/             # State Management
â”‚   â”œâ”€â”€ ğŸ“ middleware/        # Application Middleware
â”‚   â””â”€â”€ ğŸ“ tests/             # Test Files
â”œâ”€â”€ ğŸ“„ package.json           # Dependencies
â”œâ”€â”€ ğŸ“„ package-lock.json      # Package Lock (committed)
â”œâ”€â”€ ğŸ“„ .env.example           # Environment Template
â”œâ”€â”€ ğŸ“„ .env.local             # Local Environment (gitignored)
â”œâ”€â”€ ğŸ“„ .env.production        # Production Environment (gitignored)
â”œâ”€â”€ ğŸ“„ tsconfig.json          # TypeScript Config
â”œâ”€â”€ ğŸ“„ Dockerfile             # Docker Configuration
â””â”€â”€ ğŸ“„ README.md              # Client Documentation
```

### **Components Directory Structure**
```
src/components/
â”œâ”€â”€ ğŸ“ common/                # Reusable UI Components
â”‚   â”œâ”€â”€ ğŸ“„ Button.jsx
â”‚   â”œâ”€â”€ ğŸ“„ Input.jsx
â”‚   â”œâ”€â”€ ğŸ“„ Modal.jsx
â”‚   â””â”€â”€ ğŸ“„ Loading.jsx
â”œâ”€â”€ ğŸ“ layout/                # Layout Components
â”‚   â”œâ”€â”€ ğŸ“„ Header.jsx
â”‚   â”œâ”€â”€ ğŸ“„ Footer.jsx
â”‚   â”œâ”€â”€ ğŸ“„ Sidebar.jsx
â”‚   â””â”€â”€ ğŸ“„ Navigation.jsx
â”œâ”€â”€ ğŸ“ pages/                 # Page Components
â”‚   â”œâ”€â”€ ğŸ“ auth/
â”‚   â”œâ”€â”€ ğŸ“ business/
â”‚   â”œâ”€â”€ ğŸ“ search/
â”‚   â””â”€â”€ ğŸ“ user/
â”œâ”€â”€ ğŸ“ features/              # Feature-Specific Components
â”‚   â”œâ”€â”€ ğŸ“ business/
â”‚   â”œâ”€â”€ ğŸ“ search/
â”‚   â””â”€â”€ ğŸ“ forms/
â””â”€â”€ ğŸ“ accessibility/         # Accessibility Components
    â””â”€â”€ ğŸ“„ Accessibility.jsx
```

---

## ğŸ”§ Server Structure (Node.js Backend)

### **Server Directory Organization**
```
server/
â”œâ”€â”€ ğŸ“ node_modules/           # Dependencies (committed)
â”œâ”€â”€ ğŸ“ src/                    # Source Code
â”‚   â”œâ”€â”€ ğŸ“ controllers/       # Route Controllers
â”‚   â”œâ”€â”€ ğŸ“ models/            # Database Models
â”‚   â”œâ”€â”€ ğŸ“ routes/            # Express Routes
â”‚   â”œâ”€â”€ ğŸ“ middlewares/       # Custom Middleware
â”‚   â”œâ”€â”€ ğŸ“ services/          # Business Logic
â”‚   â”œâ”€â”€ ğŸ“ utils/             # Utility Functions
â”‚   â”œâ”€â”€ ğŸ“ config/            # Configuration
â”‚   â”œâ”€â”€ ğŸ“ types/             # Type Definitions
â”‚   â””â”€â”€ ğŸ“ tests/             # Test Files
â”œâ”€â”€ ğŸ“ logs/                  # Application Logs
â”œâ”€â”€ ğŸ“ uploads/               # File Uploads
â”œâ”€â”€ ğŸ“ docs/                  # API Documentation
â”œâ”€â”€ ğŸ“„ server.js              # Main Entry Point
â”œâ”€â”€ ğŸ“„ logger.js              # Logging Setup
â”œâ”€â”€ ğŸ“„ sentry.js              # Error Monitoring Setup
â”œâ”€â”€ ğŸ“„ package.json           # Dependencies
â”œâ”€â”€ ğŸ“„ package-lock.json      # Package Lock (committed)
â”œâ”€â”€ ğŸ“„ .env.example           # Environment Template
â”œâ”€â”€ ğŸ“„ .env.local             # Local Environment (gitignored)
â”œâ”€â”€ ğŸ“„ .env.production        # Production Environment (gitignored)
â”œâ”€â”€ ğŸ“„ .env.staging           # Staging Environment (gitignored)
â”œâ”€â”€ ğŸ“„ .env.test              # Test Environment (gitignored)
â”œâ”€â”€ ğŸ“„ Dockerfile             # Docker Configuration
â””â”€â”€ ğŸ“„ README.md              # Server Documentation
```

### **Controllers Directory Structure**
```
src/controllers/
â”œâ”€â”€ ğŸ“ auth/                  # Authentication Controllers
â”‚   â”œâ”€â”€ ğŸ“„ authController.js
â”‚   â””â”€â”€ ğŸ“„ passwordController.js
â”œâ”€â”€ ğŸ“ business/              # Business Controllers
â”‚   â”œâ”€â”€ ğŸ“„ businessController.js
â”‚   â”œâ”€â”€ ğŸ“„ categoryController.js
â”‚   â””â”€â”€ ğŸ“„ serviceController.js
â”œâ”€â”€ ğŸ“ user/                  # User Controllers
â”‚   â”œâ”€â”€ ğŸ“„ userController.js
â”‚   â”œâ”€â”€ ğŸ“„ favoriteController.js
â”‚   â””â”€â”€ ğŸ“„ feedbackController.js
â””â”€â”€ ğŸ“ admin/                 # Admin Controllers
    â”œâ”€â”€ ğŸ“„ statsController.js
    â””â”€â”€ ğŸ“„ suggestionController.js
```

---

## ğŸ“¦ Package & Environment Management

### **Package Files Structure**
- **Client Level**: `client/package.json`, `client/package-lock.json` (committed)
- **Server Level**: `server/package.json`, `server/package-lock.json` (committed)
- **Root Level**: No package.json needed (monorepo with separate dependencies)
- **Node Modules**: `node_modules/` in each directory (committed)

### **Entry Point Files**
- **Client**: `src/index.js` (React entry point), `src/App.js` (Main app component)
- **Server**: `server.js` (Express entry point), `sentry.js` (Error monitoring)

### **Docker Configuration**
- **Root Level**: `docker-compose.yml` (Multi-container orchestration)
- **Client Level**: `client/Dockerfile` (React build and serve)
- **Server Level**: `server/Dockerfile` (Node.js runtime)

### **Docker Architecture**
- **Dockerfile**: Defines how to build individual images
- **Docker Compose**: Orchestrates multiple containers and networking
- **Separation**: Each service has its own Dockerfile
- **Integration**: Docker Compose manages the complete application stack

### **Git Configuration**
- **Root Level**: `.gitignore` (Project-wide ignore rules - covers both client and server)
- **Centralized Management**: Single .gitignore file manages all ignore rules
- **Comprehensive Coverage**: Includes node_modules, environment files, logs, uploads, build artifacts

### **Environment Files Structure**
- **Root Level**: `.env.example` (committed)
- **Client Level**: 
  - `.env.example` (committed)
  - `.env.local` (gitignored)
  - `.env.production` (gitignored)
- **Server Level**:
  - `.env.example` (committed)
  - `.env.local` (gitignored)
  - `.env.production` (gitignored)
  - `.env.staging` (gitignored)
  - `.env.test` (gitignored)

### **Package Management Rules**
- **Automatic Installation**: Cursor executes `npm install` automatically
- **Dependency Tracking**: All dependencies tracked in `package-lock.json`
- **Version Consistency**: Lock files ensure consistent versions
- **Environment Setup**: Copy `.env.example` to appropriate environment files
- **Separate Dependencies**: Client and server manage their own dependencies
- **No Root Package**: Monorepo structure without root package.json

### **Entry Point Management**
- **Client Entry**: `src/index.js` renders `src/App.js`
- **Server Entry**: `server.js` initializes Express app
- **Error Monitoring**: `sentry.js` configures error tracking
- **Docker Setup**: Separate Dockerfiles for client and server

### **Git & Docker Rules**
- **Git Ignore**: Centralized .gitignore covers all environments, logs, uploads
- **Docker Compose**: Orchestrates client and server containers with networking
- **Docker Build**: Multi-stage builds for optimization (dev/prod stages)
- **Container Communication**: Network configuration for services
- **Dockerfile Purpose**: Build individual service images
- **Docker Compose Purpose**: Manage multi-container application stack

---

## ğŸ“ Naming Conventions

### **File Naming Rules**
- **Components**: PascalCase (Button.jsx, UserProfile.jsx)
- **Pages**: PascalCase (HomePage.jsx, Dashboard.jsx)
- **Utilities**: camelCase (authUtils.js, dateUtils.js)
- **Constants**: UPPER_SNAKE_CASE (API_ENDPOINTS.js)
- **Types**: PascalCase (UserTypes.ts, BusinessTypes.ts)
- **Services**: camelCase (authService.js, businessService.js)
- **Controllers**: camelCase (authController.js, userController.js)
- **Models**: PascalCase (User.js, Business.js)

### **Directory Naming Rules**
- **Feature Directories**: camelCase (userProfile/, businessSearch/)
- **Component Directories**: PascalCase (Button/, Modal/)
- **Utility Directories**: camelCase (utils/, services/)
- **Configuration Directories**: lowercase (config/, docs/)

### **Variable Naming Rules**
- **Variables**: camelCase (userName, businessData)
- **Constants**: UPPER_SNAKE_CASE (API_BASE_URL, MAX_FILE_SIZE)
- **Functions**: camelCase (getUserData, validateInput)
- **Classes**: PascalCase (UserService, BusinessController)
- **Interfaces**: PascalCase with 'I' prefix (IUser, IBusiness)
- **Types**: PascalCase (UserType, BusinessType)

### **Database Naming Rules**
- **Collections**: lowercase plural (users, businesses)
- **Fields**: camelCase (firstName, businessName)
- **Indexes**: descriptive names (idx_user_email, idx_business_location)
- **Relationships**: descriptive names (userBusinesses, businessCategories)

---

## ğŸ¯ Code Organization Patterns

### **Component Organization**
- **Single Responsibility**: One component per file
- **Co-location**: Related files in same directory
- **Index Files**: Export components from index.js
- **Props Interface**: Define prop types at top
- **Default Export**: Use default export for components

### **Service Organization**
- **Domain-Based**: Group by business domain
- **CRUD Operations**: Standard CRUD methods
- **Error Handling**: Consistent error handling
- **Type Safety**: TypeScript interfaces
- **Documentation**: JSDoc comments

### **Controller Organization**
- **RESTful Methods**: GET, POST, PUT, DELETE
- **Error Handling**: Try-catch blocks
- **Validation**: Input validation
- **Response Format**: Consistent response structure
- **Logging**: Request/response logging

### **Model Organization**
- **Schema Definition**: Clear schema structure
- **Validation**: Mongoose validation
- **Indexes**: Performance optimization
- **Methods**: Instance and static methods
- **Virtuals**: Computed properties

---

## ğŸ“ File Organization Guidelines

### **When to Create New Files**
- **New Feature**: Create feature directory
- **Reusable Component**: Add to common/
- **Business Logic**: Create service file
- **API Endpoint**: Create controller method
- **Database Model**: Create model file
- **Utility Function**: Add to utils/

### **When to Split Files**
- **File Size**: Over 300 lines
- **Multiple Responsibilities**: Split by responsibility
- **Complex Logic**: Separate concerns
- **Reusability**: Extract reusable parts
- **Testing**: Separate testable units

### **When to Combine Files**
- **Related Functionality**: Group related functions
- **Small Files**: Combine small related files
- **Tight Coupling**: Keep coupled code together
- **Performance**: Reduce file system calls

---

## ğŸ”„ Import/Export Organization

### **Import Order**
1. **Node.js Modules**: Built-in modules
2. **Third-Party Libraries**: External packages
3. **Internal Modules**: Project-specific imports
4. **Relative Imports**: Local file imports
5. **Type Imports**: TypeScript type imports

### **Export Patterns**
- **Named Exports**: For multiple exports
- **Default Exports**: For single main export
- **Barrel Exports**: Index files for clean imports
- **Type Exports**: Separate type exports

### **Import/Export Examples**
```javascript
// Import order example
import fs from 'fs';
import path from 'path';
import express from 'express';
import mongoose from 'mongoose';
import { authMiddleware } from '../middlewares/authMiddleware';
import { User } from '../models/User';
import type { IUser } from '../types/User';

// Export patterns
export { Button, Input, Modal } from './components';
export default UserService;
export type { IUser, IBusiness } from './types';
```

---

## ğŸ“‹ File Structure Checklist

### **Before Creating New Files**
- [ ] Check existing similar files
- [ ] Determine appropriate location
- [ ] Follow naming conventions
- [ ] Consider file organization
- [ ] Plan import/export structure

### **When Organizing Code**
- [ ] Group related functionality
- [ ] Separate concerns clearly
- [ ] Use consistent naming
- [ ] Maintain clean imports
- [ ] Document complex structures

### **For Project Structure**
- [ ] Follow domain-driven design
- [ ] Keep directories shallow
- [ ] Use descriptive names
- [ ] Maintain scalability
- [ ] Consider team workflow

### **For Package Management**
- [ ] Commit node_modules to repository
- [ ] Track all dependencies in package-lock.json
- [ ] Use automatic npm install
- [ ] Maintain environment file structure
- [ ] Follow environment setup process

### **For Entry Points**
- [ ] Ensure index.js and App.js exist in client
- [ ] Verify server.js and sentry.js in server
- [ ] Configure proper entry point imports
- [ ] Test application startup process

### **For Docker & Git**
- [ ] Create Dockerfiles for client and server
- [ ] Configure docker-compose.yml at root
- [ ] Maintain centralized .gitignore at root level
- [ ] Test container builds and deployment

---

## ğŸš€ Best Practices

### **Do's**
- âœ… Use descriptive, meaningful names
- âœ… Follow consistent naming conventions
- âœ… Organize by domain/feature
- âœ… Keep files focused and small
- âœ… Use index files for clean imports
- âœ… Document complex structures
- âœ… Consider scalability and maintainability
- âœ… Commit node_modules and package-lock.json
- âœ… Use automatic dependency installation
- âœ… Configure entry points (index.js, App.js, server.js, sentry.js)
- âœ… Set up Docker configuration (Dockerfile, docker-compose.yml)
- âœ… Maintain centralized .gitignore at root level

### **Don'ts**
- âŒ Use generic or unclear names
- âŒ Mix naming conventions
- âŒ Create deeply nested directories
- âŒ Put unrelated code in same file
- âŒ Ignore import/export organization
- âŒ Forget to document structure
- âŒ Over-engineer simple structures
- âŒ Gitignore node_modules or package-lock.json
- âŒ Manually install dependencies
- âŒ Forget entry point files (index.js, App.js, server.js)
- âŒ Ignore Docker configuration for deployment
- âŒ Create separate .gitignore files for client/server
- âŒ Commit sensitive files to Git

---

## ğŸ”§ Tools & Automation

### **File Structure Tools**
- **ESLint**: Enforce naming conventions
- **Prettier**: Consistent code formatting
- **TypeScript**: Type safety and organization
- **Path Aliases**: Clean import paths
- **Barrel Exports**: Organized exports

### **Automation Scripts**
- **File Generators**: Scaffold new files
- **Structure Validators**: Validate organization
- **Import Sorters**: Organize imports
- **Naming Checkers**: Validate conventions
- **Documentation Generators**: Auto-generate docs

---

## ğŸ“š Future Enhancements

### **Advanced Organization**
- **Monorepo Tools**: Lerna, Nx for large projects
- **Module Federation**: Micro-frontend architecture
- **Code Splitting**: Dynamic imports and lazy loading
- **Tree Shaking**: Remove unused code
- **Bundle Analysis**: Optimize file structure

### **Development Experience**
- **IDE Configuration**: VSCode settings and extensions
- **Code Templates**: Snippets and generators
- **Hot Reloading**: Fast development cycles
- **Debugging Tools**: Enhanced debugging experience
- **Performance Monitoring**: File structure impact analysis


